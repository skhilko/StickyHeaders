!function(e,t){!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.StickyHeaders=t()}(this,function(){"use strict";function i(e,t){this.element=e,this.options=t,this.stuckHeadersHeight=0,this._updating=!1,this._events=[],this._readListStyles(),this.headers=Array.prototype.map.call(e.querySelectorAll(this.options.headerSelector),function(e,t){var i=e.getBoundingClientRect(),n=e.cloneNode(!0);return n.classList.add("sticky-header","is-stuck"),n.style.height=i.height+"px",this.headerContainerHeight=i.height,n.dataset.index=t,{top:i.top-this._listStyles.top,height:i.height,el:n}}.bind(this)),this._createHeaderContainer(),this._on("scroll",this.onScroll)}var n=function(){var t=e.createElement("div");t.className="js-scrollbar-measure",e.body.appendChild(t);var i=t.offsetWidth-t.clientWidth;return e.body.removeChild(t),i}(),s=function(){for(var i=["transform","webkitTransform"],n=0;n<i.length;n++)if(e.body.style[i[n]]!==t)return i[n]}(),r=50,o=16;return i.prototype._readListStyles=function(){var e=this.element;this._listStyles={top:e.getBoundingClientRect().top,borderTopWidth:e.clientTop,borderLeftWidth:e.clientLeft}},i.prototype._createHeaderContainer=function(){var t=this.header=e.createElement("div");t.className="sticky-container";var i=e.createElement("div"),s=this._listStyles.borderLeftWidth;i.className="sticky-container-inner",i.style.top=this._listStyles.borderTopWidth+"px",i.style.left=s+"px",i.style.right=n+s+"px",i.style.height=this.headerContainerHeight+"px",t.appendChild(i);var r=this.headerContainer=e.createElement("div");i.appendChild(r),t.addEventListener("click",this.onHeaderActivate.bind(this)),t.addEventListener("wheel",this.onHeaderScroll.bind(this)),this.element.parentNode.insertBefore(t,this.element)},i.prototype.onHeaderActivate=function(e){if(e.target.classList.contains("is-stuck")){var t=parseInt(e.target.dataset.index,10),i=this.headers[t];this.element.scrollTop=i.top}},i.prototype.onScroll=function(){this._latestKnownScrollTop=this.element.scrollTop,this._requestUpdate()},i.prototype._requestUpdate=function(){this._updating||(setTimeout(this.updateHeaders.bind(this),0),this._updating=!0)},i.prototype.updateHeaders=function(){var e=this._latestKnownScrollTop+this._listStyles.borderTopWidth,t=0;this.headers.forEach(function(i){i.el.parentNode?i.top>=e&&(this.headerContainer.removeChild(i.el),this.stuckHeadersHeight-=i.height):i.top<e&&(this.headerContainer.appendChild(i.el),this.stuckHeadersHeight+=i.height),this.isWithinHeaderContainer(i,e)&&(t=i.top-e-this.headerContainerHeight)},this),t+=this.headerContainerHeight-this.stuckHeadersHeight,requestAnimationFrame(function(e){this.headerContainer.style[s]="translateY("+e+"px)",this._updating=!1}.bind(this,t))},i.prototype.onHeaderScroll=function(e){var t=0;switch(e.deltaMode){case WheelEvent.DOM_DELTA_PIXEL:t=e.deltaY;break;case WheelEvent.DOM_DELTA_LINE:t=o*e.deltaY;break;default:t=r}this.element.scrollTop+=t,e.preventDefault()},i.prototype._on=function(e,t){t=t.bind(this),this.element.addEventListener(e,t),this._events.push({el:this.element,ev:e,handler:t})},i.prototype.destroy=function(){this._events.forEach(function(e){e.el.removeEventListener(e.ev,e.handler)}),this.element.parentNode.removeChild(this.header)},i.prototype.isWithinHeaderContainer=function(e,t){return e.top>=t&&e.top<=this.headerContainerHeight+t},i})}(window.document);
//# sourceMappingURL=../maps/stickyheaders.min.js.map