!function(t,e,i){!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.StickyHeaders=e()}(this,function(){"use strict";function n(t,e){this.element=t,this.options=e,this.stuckHeadersHeight=0,this._updating=!1,this._events=[],this._readListStyles(),this.headers=Array.prototype.map.call(t.querySelectorAll(this.options.headerSelector),function(t,e){var i=t.getBoundingClientRect(),n=t.cloneNode(!0);return n.classList.add("sticky-header","is-stuck"),n.style.height=i.height+"px",this.headerContainerHeight=i.height,n.dataset.index=e,{top:i.top-this._listStyles.top,height:i.height,el:n}}.bind(this)),this._createHeaderContainer(),this._on("scroll",this.onScroll)}function s(t,e){this.element=t,this.options=e,this.init()}var o=function(){var t=e.createElement("div");t.className="js-scrollbar-measure",e.body.appendChild(t);var i=t.offsetWidth-t.clientWidth;return e.body.removeChild(t),i}(),r=function(){for(var t=["transform","webkitTransform"],n=0;n<t.length;n++)if(e.body.style[t[n]]!==i)return t[n]}(),a=50,h=16;n.prototype._readListStyles=function(){var t=this.element;this._listStyles={top:t.getBoundingClientRect().top,borderTopWidth:t.clientTop,borderLeftWidth:t.clientLeft}},n.prototype._createHeaderContainer=function(){var t=this.header=e.createElement("div");t.className="sticky-container";var i=e.createElement("div"),n=this._listStyles.borderLeftWidth;i.className="sticky-container-inner",i.style.top=this._listStyles.borderTopWidth+"px",i.style.left=n+"px",i.style.right=o+n+"px",i.style.height=this.headerContainerHeight+"px",t.appendChild(i);var s=this.headerContainer=e.createElement("div");i.appendChild(s),t.addEventListener("click",this.onHeaderActivate.bind(this)),t.addEventListener("wheel",this.onHeaderScroll.bind(this)),this.element.parentNode.insertBefore(t,this.element)},n.prototype.onHeaderActivate=function(t){if(t.target.classList.contains("is-stuck")){var e=parseInt(t.target.dataset.index,10),i=this.headers[e];this.element.scrollTop=i.top}},n.prototype.onScroll=function(){this._latestKnownScrollTop=this.element.scrollTop,this._requestUpdate()},n.prototype._requestUpdate=function(){this._updating||(setTimeout(this.updateHeaders.bind(this),0),this._updating=!0)},n.prototype.updateHeaders=function(){var t=this._latestKnownScrollTop+this._listStyles.borderTopWidth,e=0;this.headers.forEach(function(i){i.el.parentNode?i.top>=t&&(this.headerContainer.removeChild(i.el),this.stuckHeadersHeight-=i.height):i.top<t&&(this.headerContainer.appendChild(i.el),this.stuckHeadersHeight+=i.height),this.isWithinHeaderContainer(i,t)&&(e=i.top-t-this.headerContainerHeight)},this),e+=this.headerContainerHeight-this.stuckHeadersHeight,requestAnimationFrame(function(t){this.headerContainer.style[r]="translateY("+t+"px)",this._updating=!1}.bind(this,e))},n.prototype.onHeaderScroll=function(t){var e=0;switch(t.deltaMode){case WheelEvent.DOM_DELTA_PIXEL:e=t.deltaY;break;case WheelEvent.DOM_DELTA_LINE:e=h*t.deltaY;break;default:e=a}this.element.scrollTop+=e,t.preventDefault()},n.prototype._on=function(t,e){e=e.bind(this),this.element.addEventListener(t,e),this._events.push({el:this.element,ev:t,handler:e})},n.prototype.destroy=function(){this._events.forEach(function(t){t.el.removeEventListener(t.ev,t.handler)}),this.element.parentNode.removeChild(this.header)},n.prototype.isWithinHeaderContainer=function(t,e){return t.top>=e&&t.top<=this.headerContainerHeight+e};var d="stickyHeaders";return s.prototype.init=function(){this.widget=new n(this.element,this.options)},s.prototype.destroy=function(){this.widget.destroy(),t.removeData(this.element,"plugin_"+d),this.element=null},t.fn[d]=function(e){var n=arguments,o="plugin_"+d;return e===i||"object"==typeof e?this.each(function(){t.data(this,o)||t.data(this,o,new s(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var i=t.data(this,o);i instanceof s&&(!t.isFunction(i[e])&&t.isFunction(i.widget[e])&&(i=i.widget),i[e].apply(i,Array.prototype.slice.call(n,1)))}):void 0},n})}(jQuery,window.document);
//# sourceMappingURL=../maps/stickyheaders.jquery.min.js.map